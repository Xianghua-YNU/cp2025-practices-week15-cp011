# 项目1：双摆动力学仿真 - 实验报告

**学生姓名：王珏
**学号：20231050167  
**完成日期：2025.06.11

## 1. 实验目的
理解双摆系统的复杂运动模式和非线性特性，并验证其理论模型与数值解法。

## 2. 核心算法与实现

### 2.1 运动方程的数值解法
（简述你是如何设置并调用 `scipy.integrate.odeint` 来求解双摆的微分方程组的。提及你定义的 `derivatives` 函数的关键作用。）
1. 定义微分方程组​：首先，需要将双摆的运动方程转换为一阶微分方程组。双摆的运动方程通常涉及到两个摆锤的角度和角速度，因此需要四个变量来表示系统的状态。
2. ​定义  derivatives  函数​：这个函数将计算给定状态变量的导数，即新的角速度和角加速度。这个函数是  odeint  函数的关键，因为它告诉求解器如何根据当前状态计算下一个状态。 ​3. 设置初始条件​：为双摆的初始角度和角速度设置初始条件。
​4. 调用  odeint  函数​：使用  odeint  函数求解微分方程组。需要将  derivatives  函数、初始条件和时间点数组传递给  odeint 。​

### 2.2 能量计算方法
（说明你是如何根据 $\theta_1, \omega_1, \theta_2, \omega_2$ 计算系统的总动能 $T$ 和总势能 $V$ 的，并给出总能量 $E = T+V$ 的表达式。）


### 2.3 关键代码片段
```python
def derivatives(y, t, L1, L2, m1, m2, g_param):
    """
    Returns the time derivatives of the state vector y for a double pendulum.

    Args:
        y (list or np.array): Current state vector [theta1, omega1, theta2, omega2].
        t (float): Current time (not used directly in these autonomous equations, but required by odeint).
        L1 (float): Length of the first pendulum arm.
        L2 (float): Length of the second pendulum arm.
        m1 (float): Mass of the first bob.
        m2 (float): Mass of the second bob.
        g (float): Acceleration due to gravity.
# 能量计算部分：
# def calculate_energy_student(sol_arr, L_param, m_param, g_param):
#     theta1 = sol_arr[:, 0]
#     # ... (你的实现)
#     V = ...
#     T = ...
#     return T + V
```

## 3. 实验结果与分析

### 3.1 能量守恒分析
（粘贴你生成的“能量 vs. 时间”图像。分析图像，讨论能量是否守恒。如果存在数值误差导致的不守恒，量化这个误差（例如，总能量的变化范围或标准差），并讨论你是如何通过调整 `odeint` 的参数（如 `rtol`, `atol`）或增加 `t_points` 来尝试满足题目 $10^{-5}$ 焦耳的精度要求的。）

**(在此处插入能量随时间变化的图像)**

### 3.2 双摆运动轨迹 (可选，如果未做动画则省略)
（如果你完成了动画部分，可以简要描述双摆的典型运动特征，例如混沌行为、对初始条件的敏感性等。可以附上一张动画中的截图。）

**(在此处插入动画截图，如果适用)**

## 4. 问题与收获

### 4.1 遇到的主要问题
（列出1-2个在实现过程中遇到的主要困难或挑战，例如：理解微分方程组、调试 `odeint` 参数、实现动画等。）

### 4.2 解决方法与学习心得
（简述你是如何解决上述问题的。总结通过本次实验学到的主要知识点、技能或对计算物理的理解，例如：数值求解ODE的经验、混沌系统特性、能量分析的重要性等。）

### 4.3 主要收获
（用3-5句话总结你从这个项目中学到的最重要的东西。）

## 5. 思考题（可选）

1.  如果双摆的两个摆臂长度不同（ $L_1 \neq L_2$）或两个摆锤质量不同（ $m_1 \neq m_2$），运动方程会如何变化？你将如何修改你的 `derivatives` 函数来适应这种情况？（提示：需要回顾拉格朗日方程的推导或查找更通用的双摆方程。）
2.  双摆的运动对初始条件高度敏感。尝试稍微改变初始角度（例如，将 $\theta_1$ 或 $\theta_2$ 改变 $0.001$ 弧度），重新运行仿真，并比较两个轨迹（例如，绘制 $\theta_1(t)$ 的对比图）。你观察到了什么现象？这与混沌理论有什么关系？

---

_报告长度建议：500-1000字（不含代码和图片），重点关注对物理模型、数值方法和结果分析的理解与反思。_
